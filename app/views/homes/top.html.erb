<main>

    <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
        <div style="height: 500px;" id="top-img">
            <div class="container">
                <div class="carousel-caption text-start">
                    <h1 style="color: white;">理想のプロテインを見つけよう！！</h1>
                    <p style="color: white;">プロテイン専用のSNSサイトです。</p>
                    <p style="color: white;">
                        <%= link_to "新規登録", new_user_path, class: "btn btn-primary" %>
                        <%= link_to "ログイン", login_path, class: "btn btn-success" %>
                    </p>
                </div>
            </div>
        </div>
    </div>


    <div class="container marketing">
        <h2 class="mt-4">
            注目のプロテイン
            <%= link_to "もっと見る", proteins_path, style: "font-size: 15px; text-decoration: none;" %>
        </h2>

        <!-- Three columns of text below the carousel -->
        <div class="text-center" style="margin: 0;">
            <% @proteins.each do |protein| %>
                <%= link_to protein_path(protein.id), class: "text-decoration-none" do %>
                    <div class="card inline m-2" style="width: 25%; height: 400px; color: black; min-width: 150px; max-width: 250px;">
                        <% if protein.protein_images[0].present? %>
                            <%= image_tag protein.protein_images[0].url, class: "card-img-top", style: "width: 100%; height: 200px;" %>
                        <% else %>
                            <%= image_tag "no_image2.jpg", class: "card-img-top", style: "width: 100%; height: 200px;" %>
                        <% end %>
                        <div class="card-body">
                            <h5 class="card-title" style="font-size: 17px; font-weight: bold; text-align: left;">
                                <%= protein.name %>
                                <span style="font-size: 12px; color: #E9967A; float: right;"><%= protein.taste %></span>   
                            </h5>
                            <% if protein.feature.length >40 %>
                                <p class="card-text" style="height: 50px; text-align: left; color: grey;"><%= protein.feature.slice(0, 40) %>...</p>
                            <% else %>
                                <p class="card-text" style="height: 50px; text-align: left; color: grey;"><%= protein.feature %></p>
                            <% end %>
                        </div>
                        <div class="" style="text-align: left; padding-left: 5px; margin-top: 10px;">
                            <%= link_to user_path(protein.user_id), style: "text-decoration: none;" do %>
                                <% if protein.user.avatar_image.present? %>
                                    <%= image_tag protein.user.avatar_image.url, class:"img-fluid circle", alt: "画像が表示できません", style: "width: 40px; height: 40px;" %>
                                <% else %>
                                    <%= image_tag "no_image.jpg", class: "card-img-top", style: "width: 40px; height: 30px;" %>
                                <% end %>
                                <span><%=protein.user.name%></span>
                            <% end %>
                        </div>
                        <div style="text-align: left; padding-left: 5px;">
                            <ul style="display: flex; list-style: none; padding: 0px;">
                                <li id="goodBox<%=protein.id%>" style="margin-right: 10px;">
                                    <%= render "templetes/good", protein: protein%>
                                </li>
                                <li class="">
                                    <i class="bi bi-chat-left-text" style="font-size: 20px;"></i>
                                    <span style="font-size: 23px;"><%=protein.comments.count%></span>
                                </li>
                            </ul>
                        </div>
                    </div>
                <% end %>    
            <% end %>
        </div>



        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7">
                <h2 class="featurette-heading">プロテインとは?</h2>
                <p class="lead">
                    プロテイン（protein）とは日本語でタンパク質を表します。
                    食品でいうと肉、魚、大豆製品、卵、乳製品などに含まれており普段の食事から摂取できる栄養素です。
                    タンパク質は筋肉だけでなく、内臓や皮膚、髪の毛、爪に加えて、ホルモンやへモグロビンなど様々なカタチで身体の中に存在しています。プロテインはタンパク質の一種である、というイメージが先行しておりますがプロテインとタンパク質は全く同じものであります。
                </p>
            </div>
            <div class="col-md-5">
                <div class="bg bg-info" style="width: 100%; height: 450px;" id="protein1"></div>
            </div>
        </div>

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7 order-md-2">
                <h2 class="featurette-heading">プロテインのメリット</h2>
                <p class="lead">
                    ●必要なだけのたんぱく質を、必要なときに簡単にとることができる<br>
                    ●カロリーや脂質を抑えやすい<br>
                    ●体に吸収しやすい形で商品化されている
                </p>
            </div>
            <div class="col-md-5 order-md-1">
                <div class="bg bg-info" style="width: 100%; height: 450px;" id="protein2"></div>
            </div>
        </div>

        <hr class="featurette-divider">

        <div class="row featurette">
            <div class="col-md-7">
                <h2 class="featurette-heading">プロテインを飲むタイミング</h2>
                <p class="lead">
                    筋肉量・筋力アップ・筋肥大が目的である場合は、運動後30分以内の摂取が最も効果的と言われています。
                    筋肉が合成されるメカニズムとして、トレーニングにより体の筋繊維が損傷し、これを修復しようと筋タンパク質の合成が活発化します。
                    栄養バランスの改善を目的にプロテインの摂取を行っている場合は、食前 or 食後に加えて、就寝前の摂取が効果的です。
                    普段の食生活で十分な量のタンパク質を補給できている方は限られています。バランスの良い食生活を心がけている方でも、多くの場合不足しがちになってしまいます。
                    食前・食後のいずれかでプロテインを飲むことで、不足しがちなタンパク質を補うことが可能です
                </p>
            </div>
            <div class="col-md-5">
                <div class="bg bg-info" style="width: 100%; height: 450px;" id="protein3"></div>
            </div>
        </div>

        <hr class="featurette-divider">



    </div>

    <footer class="container">
        <p class="float-end"><a href="#">Back to top</a></p>
        <p>&copy; 2017–2021 Company, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
    </footer>
</main>